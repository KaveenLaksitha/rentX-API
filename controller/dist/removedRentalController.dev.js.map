{"version":3,"sources":["removedRentalController.js"],"names":["router","require","Router","moment","RemovedRental","route","post","req","res","id","body","from","format","to","status","payment","vehicleType","model","advPayment","Number","finalPrice","customerName","customerNIC","contactNo","penaltyDays","penaltyCharges","returnDate","newRemovedRentalRec","save","then","send","message","err","error","get","find","removedRental","json","rental","console","log","module","exports"],"mappings":"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","sourcesContent":["const router = require(\"express\").Router();\r\nconst moment = require('moment');\r\nlet RemovedRental = require(\"../model/RemovedRentalModel\");\r\n\r\n\r\n//To add the deatils for an unique rental record\r\nrouter.route(\"/addRemovedRentalRec\").post((req, res) => {\r\n\r\n    const id = req.body.id;\r\n    const from = moment(req.body.from).format('YYYY-MMMM-DD');\r\n    const to = moment(req.body.to).format('YYYY-MMMM-DD');\r\n    const status = req.body.status;\r\n    const payment = req.body.payment;\r\n    const vehicleType = req.body.vehicleType;\r\n    const model = req.body.model;\r\n    const advPayment = Number(req.body.advPayment);\r\n    const finalPrice = Number(req.body.finalPrice);\r\n    const customerName = req.body.customerName;\r\n    const customerNIC = req.body.customerNIC;\r\n    const contactNo = Number(req.body.contactNo);\r\n    const penaltyDays = Number(req.body.penaltyDays)\r\n    const penaltyCharges = Number(req.body.penaltyCharges)\r\n    const returnDate = moment(req.body.returnDate).format('YYYY-MMMM-DD')\r\n\r\n\r\n    const newRemovedRentalRec = new RemovedRental({\r\n        id,\r\n        from,\r\n        to,\r\n        status,\r\n        payment,\r\n        vehicleType,\r\n        model,\r\n        advPayment,\r\n        finalPrice,\r\n        customerName,\r\n        customerNIC,\r\n        contactNo,\r\n        penaltyDays,\r\n        penaltyCharges,\r\n        returnDate\r\n    })\r\n\r\n    newRemovedRentalRec.save().then(() => {//pass the object to database if successful\r\n        //res.json(\"Rental Record is Added\")//from jason format a response sent to front end\r\n        res.status(200).send({ message: \"Removed Rental Record is Added\" })\r\n    }).catch((err) => {//error or exception handling\r\n        //console.log(err);\r\n        res.status(300).send({ status: \"Error in Rental Record Insertion\", error: err.message });\r\n    })\r\n\r\n})\r\n\r\n//To retrieve all the rental record details in database\r\nrouter.route(\"/displayRemovedRentalsList\").get((req, res) => {\r\n\r\n    RemovedRental.find().then((removedRental) => {\r\n        res.json(rental)\r\n\r\n    }).catch((err) => {\r\n        console.log(err);\r\n    })\r\n})\r\n\r\nmodule.exports = router;"],"file":"removedRentalController.dev.js"}