{"version":3,"sources":["removedRentalController.js"],"names":["router","require","Router","moment","RemovedRental","post","req","res","id","body","route","from","to","format","status","payment","vehicleType","Number","model","finalPrice","advPayment","customerName","customerNIC","penaltyDays","contactNo","penaltyCharges","returnDate","save","then","send","message","err","error","get","find","removedRental","json","rental","module","exports"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,WAAWC,SAC5BC,OAASF,QAAQ,UADjBD,cAAgBC,QAAC,+BAEvBD,OAAII,MAAAA,wBAAwBC,KAAA,SAAAC,EAAAC,GAMxB,IAAMC,EAAKF,EAAIG,KAAKD,GAFjBE,EAAMP,OAAAG,EAAAG,KAAAE,MAAwBN,OAAK,gBAE9BO,EAAOH,OAAfH,EAAAG,KAAAG,IAAAC,OAAA,gBACUC,EAASR,EAAIG,KAAHK,OACZC,EAAUT,EAAIG,KAALM,QACXD,EAAkBA,EAAAA,KAAxBE,YACMD,EAAUT,EAAIG,KAAKM,MACnBC,EAAiBC,OAAMD,EAAAA,KAAAA,YACvBE,EAAiBA,OAAvBZ,EAAAG,KAAAU,YACMC,EAAmBd,EAAIG,KAAHY,aACpBF,EAAaF,EAAOX,KAAIG,YACxBY,EAAef,OAAAA,EAASe,KAAAA,WACxBC,EAAkBb,OAAKa,EAAAA,KAA7BC,aACMC,EAAmBlB,OAASkB,EAAAA,KAAVC,gBAClBF,EAAcN,OAAUX,EAACG,KAAKc,YAApCV,OAAA,gBAKgCT,IAAAA,cAAc,CAC1CI,GAAAA,EACIG,KAAAA,EACJC,GAAAA,EACAE,OAAAA,EACAC,QAAAA,EACAC,YAAAA,EACAE,MAAAA,EACAE,WAAAA,EACAD,WAAAA,EACAE,aAAAA,EACAC,YAAAA,EACAE,UAAAA,EACAD,YAAAA,EACAE,eAAAA,EACAC,WAAAA,IAGmCC,OAAAC,KAAA,WAE/Bd,EAAAA,OAAJ,KAAAe,KAAqB,CAAAC,QAAA,qCAFc,MAEL,SAAAC,GAFlCxB,EAAAO,OAGS,KAACiB,KAAQ,CAAAjB,OAAA,mCAAAkB,MAAAD,EAAAD,cAEO9B,OAArBU,MAAA,8BAAAuB,IAAA,SAAA3B,EAAAC,GAKRH,cAAA8B,OAAAN,KAAA,SAAAO,GAIQ5B,EAAI6B,KAAKC,UAJjB,MAGIjC,SAAAA,GACQgC,QAAKC,IAATN,OAKPO,OARDC,QAAAvC","file":"removedRentalController.min.js","sourcesContent":["const router = require(\"express\").Router();\r\nconst moment = require('moment');\r\nlet RemovedRental = require(\"../model/RemovedRentalModel\");\r\n\r\n\r\n//To add the deatils for an unique rental record\r\nrouter.route(\"/addRemovedRentalRec\").post((req, res) => {\r\n\r\n    const id = req.body.id;\r\n    const from = moment(req.body.from).format('YYYY-MMMM-DD');\r\n    const to = moment(req.body.to).format('YYYY-MMMM-DD');\r\n    const status = req.body.status;\r\n    const payment = req.body.payment;\r\n    const vehicleType = req.body.vehicleType;\r\n    const model = req.body.model;\r\n    const advPayment = Number(req.body.advPayment);\r\n    const finalPrice = Number(req.body.finalPrice);\r\n    const customerName = req.body.customerName;\r\n    const customerNIC = req.body.customerNIC;\r\n    const contactNo = Number(req.body.contactNo);\r\n    const penaltyDays = Number(req.body.penaltyDays)\r\n    const penaltyCharges = Number(req.body.penaltyCharges)\r\n    const returnDate = moment(req.body.returnDate).format('YYYY-MMMM-DD')\r\n\r\n\r\n    const newRemovedRentalRec = new RemovedRental({\r\n        id,\r\n        from,\r\n        to,\r\n        status,\r\n        payment,\r\n        vehicleType,\r\n        model,\r\n        advPayment,\r\n        finalPrice,\r\n        customerName,\r\n        customerNIC,\r\n        contactNo,\r\n        penaltyDays,\r\n        penaltyCharges,\r\n        returnDate\r\n    })\r\n\r\n    newRemovedRentalRec.save().then(() => {//pass the object to database if successful\r\n        //res.json(\"Rental Record is Added\")//from jason format a response sent to front end\r\n        res.status(200).send({ message: \"Removed Rental Record is Added\" })\r\n    }).catch((err) => {//error or exception handling\r\n        //console.log(err);\r\n        res.status(300).send({ status: \"Error in Rental Record Insertion\", error: err.message });\r\n    })\r\n\r\n})\r\n\r\n//To retrieve all the rental record details in database\r\nrouter.route(\"/displayRemovedRentalsList\").get((req, res) => {\r\n\r\n    RemovedRental.find().then((removedRental) => {\r\n        res.json(rental)\r\n\r\n    }).catch((err) => {\r\n        console.log(err);\r\n    })\r\n})\r\n\r\nmodule.exports = router;"]}