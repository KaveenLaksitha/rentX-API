{"version":3,"sources":["removedReservationController.js"],"names":["controller","require","Router","isMoment","RemovedReservation","route","post","req","res","console","log","body","data","reservationid","customername","contactnumber","Number","customernic","customeraddress","packagename","eventtype","from","format","to","discount","advancedpayment","totalreservation","status","penaltyDay","penaltyCharge","returnDay","newRemovedReservationRecords","save","then","send","message","err","error","get","find","removedReservation","json","reservations","module","exports"],"mappings":"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","sourcesContent":["const controller = require(\"express\").Router();\r\nconst isMoment = require('moment');\r\nlet RemovedReservation = require(\"../model/RemovedReservationModel\");\r\n\r\n\r\n//insert data\r\ncontroller.route(\"/addRemovedReservation\").post((req,res)=>{\r\n    console.log(\"hi\",req.body.data);\r\n    const reservationid =  req.body.data.reservationid;\r\n    const customername = req.body.data.customername;\r\n    const contactnumber = Number(req.body.data.contactnumber);\r\n    const customernic = req.body.data.customernic;\r\n    const customeraddress = req.body.data.customeraddress;\r\n    const packagename = req.body.data.packagename;\r\n    const eventtype = req.body.data.eventtype;\r\n    const from = isMoment(req.body.data.from).format('YYYY-MMMM-DD');\r\n    const to = isMoment(req.body.data.to).format('YYYY-MMMM-DD');\r\n    const discount = Number(req.body.data.discount);\r\n    const advancedpayment = Number(req.body.data.advancedpayment);\r\n    const totalreservation = Number(req.body.data.totalreservation);\r\n    const status = req.body.data.status;\r\n    const penaltyDay = Number(req.body.data.penaltyDay);\r\n    const penaltyCharge = Number(req.body.data.penaltyCharge);\r\n    const returnDay = isMoment(req.body.data.from).format('YYYY-MMMM-DD');\r\n\r\n    const newRemovedReservationRecords = new RemovedReservation({\r\n        reservationid,\r\n        customername,\r\n        contactnumber,\r\n        customernic,\r\n        customeraddress,\r\n        packagename,\r\n        eventtype,\r\n        from,\r\n        to,\r\n        discount,\r\n        advancedpayment,\r\n        totalreservation,\r\n        status,\r\n        penaltyDay,\r\n        penaltyCharge,\r\n        returnDay\r\n\r\n    })\r\n\r\n    console.log(\"dataaaaaaaaa\",newRemovedReservationRecords)\r\n\r\n    newRemovedReservationRecords.save().then(()=>{\r\n        console.log(\"data saved\")\r\n        res.status(200).send({message:\"Reservation insert successfully\"})\r\n        \r\n    }).catch((err)=>{\r\n        console.log(\"data not saved\", err)\r\n        res.status(300).send({status:\"Error Reservation insertion\",error: err.message});\r\n    })\r\n})\r\n\r\n//retrieve all order details\r\ncontroller.route(\"/displayRemovedReservation\").get((req,res) =>{\r\n    RemovedReservation.find().then((removedReservation) => {\r\n        res.json(reservations)\r\n    }).catch((err)=>{\r\n        console.log(err);\r\n    })\r\n})\r\n\r\nmodule.exports = controller;\r\n\r\n"],"file":"removedReservationController.dev.js"}